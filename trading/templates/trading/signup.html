{% extends "main/layout.html" %}

{% block content %}
<div class="section container">
  <div class="row">
    <div class="col s12 m6 offset-m3">
      <div class="card login-wrapper">
        <div class="card-content">
          <div id="CustomerLoginForm">
            <form method="post" action="/account/login" id="customer_login" accept-charset="UTF-8"><input type="hidden" name="form_type" value="customer_login"><input type="hidden" name="utf8" value="âœ“">

              {% csrf_token %}
              
              <h4 class="center">Sign Up</h4>
                <div class="row">
                  <div class="input-field col s12">
                      <label for="CustomerEmail" class="">
                          Username
                      </label>
                      {{ form.username }}
                  </div>
                  {% for error in form.username.errors %}
                    <p style="color: red">{{ error }}</p>
                  {% endfor %}
                </div>
                <div class="row">
                  <div class="input-field col s12">
                      <label for="CustomerPassword">
                        Password
                      </label>
                      {{ form.password1 }}
                  </div>
                  {% for error in form.password1.errors %}
                    <p style="color: red">{{ error }}</p>
                  {% endfor %}
                </div>
                <div class="row">
                  <div class="input-field col s12">
                      <label for="CustomerPassword">
                        Password Confirmation
                      </label>
                      {{ form.password2 }}
                      {% for error in form.password2.errors %}
                        <p style="color: red">{{ error }}</p>
                      {% endfor %}
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    <select id="userselect">
                      <option value="1">GAA</option>
                      <option value="2">PAL</option>
                    </select>
                    <label>User Type Select</label>
                  </div>
                </div>
                <div class="row">
                  <div id="preferenceselect" class="input-field col s12">
                    {% comment %} 
                    <select>
                      <option value="1">PAL1</option>
                      <option value="2">PAL2</option>
                    </select>
                     {% endcomment %}
                     {{ form.preferenceSelect }}
                    <label>Preference</label>
                  </div>
                </div>
                <input type="submit" class="btn-large" value="SignUp">
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const selectElement = document.getElementById('userselect');

  selectElement.addEventListener('change', (event) => {
    if(selectElement.value == '1'){
      document.getElementById('preferenceselect').style.display = 'block'
    }else{
      document.getElementById('preferenceselect').style.display = 'none'
    }
  });
</script>
{% endblock content %}