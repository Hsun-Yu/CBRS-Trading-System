{% extends "main/layout.html" %}

{% block content %}
<div class="section container">
  <div class="row">
    <div class="col s12 m6 offset-m3">
      <div class="card login-wrapper">
        <div class="card-content">
          <div id="CustomerLoginForm">
            <form method="post">
              {% csrf_token %}
              
              <h4 class="center">Sign Up</h4>
                <div class="row">
                  <div class="input-field col s12">
                      <label for="CustomerEmail" class="">
                          Username
                      </label>
                      {{ form.username }}
                  </div>
                  {% for error in form.username.errors %}
                    <p style="color: red">{{ error }}</p>
                  {% endfor %}
                </div>
                <div class="row">
                  <div class="input-field col s12">
                      <label for="CustomerPassword">
                        Password
                      </label>
                      {{ form.password1 }}
                  </div>
                  {% for error in form.password1.errors %}
                    <p style="color: red">{{ error }}</p>
                  {% endfor %}
                </div>
                <div class="row">
                  <div class="input-field col s12">
                      <label for="CustomerPassword">
                        Password Confirmation
                      </label>
                      {{ form.password2 }}
                      {% for error in form.password2.errors %}
                        <p style="color: red">{{ error }}</p>
                      {% endfor %}
                  </div>
                </div>
                <div class="row">
                  <div class="input-field col s12">
                    {{ form.userSelect }}
                    <label>User Type Select</label>
                  </div>
                </div>
                <div id="palnumberofremaining" class="row" style="display:none">
                  <div class="input-field col s12">
                    {{ form.numberOfRemaining }}
                    <label>Number of remaining</label>
                  </div>
                </div>
                <div id="palprice"  class="row" style="display:none">
                  <div class="input-field col s12">
                    {{ form.price }}
                    <label>Price</label>
                  </div>
                </div>
                <div id="preferenceselect"  class="row">
                  <div class="input-field col s12">
                    {{ form.preferenceSelect }}
                    <label>Preference</label>
                  </div>
                </div>
                <button type="submit" class="btn-large">Sign Up</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const selectElement = document.getElementById('id_userSelect');

  selectElement.addEventListener('change', (event) => {
    if(selectElement.value == '1'){
      document.getElementById('preferenceselect').style.display = 'block'
      document.getElementById('palnumberofremaining').style.display = 'none'
      document.getElementById('palprice').style.display = 'none'
    }else{
      document.getElementById('preferenceselect').style.display = 'none'
      document.getElementById('palnumberofremaining').style.display = 'block'
      document.getElementById('palprice').style.display = 'block'
    }
  });
</script>
{% endblock content %}